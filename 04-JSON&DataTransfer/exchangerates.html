<!DOCTYPE html>
<html>

<head>
	<title>Currency exchange rates</title>
	<meta charset="UTF-8">
</head>

<body>
	<h1>Exchange rates:</h1>
	<p></p>

	<script>
		let currencies = ["eur", "usd", "gbp"];
		const p = document.getElementsByTagName("p")[0];
		for (let i = 0; i < currencies.length; i++) {
			const url = "http://api.nbp.pl/api/exchangerates/rates/a/" + currencies[i];
			const request = new XMLHttpRequest();
			request.open("GET", url);
			request.onreadystatechange = function () {
				if (request.readyState == 4 && request.status == 200) {
					const data = JSON.parse(request.responseText);
					p.append(currencies[i].toUpperCase() + ": " + data.rates[0].mid+" ");				}
			}
			request.send();
		}
	</script>
</body>

</html>